<h1>曲一覧</h1>

<p>
<%= button_to('曲追加', new_song_path, :class => 'btn', :method => :get) %>
</p>

<table class="table table-striped table-bordered table-condensed">
  <thead>
  <tr>
    <th></th>
    <th>曲名</th>
    <th></th>
    <th></th>
  </tr>
  </thead>

  <tbody>
<% @songs.each do |song| %>
  <tr>
    <td><%= song.sang? ? link_to('<i class="icon-star"></i>'.html_safe, singing_song_path(song)) : 
                         link_to('<i class="icon-star-empty"></i>'.html_safe, singing_song_path(song)) %></td>
    <% if song.artist.nil? -%>
      <td><%= link_to song.name , song %></td>
    <% else -%>
      <td><%= link_to "#{song.name} [#{song.artist.name}]", song %></td>
    <% end -%>
    <td>
      <%= link_to '<i class="icon-pencil"></i>'.html_safe, edit_song_path(song) %></td><td>
        <%= link_to '<i class="icon-trash"></i>'.html_safe, song, method: :delete, data: { confirm: 'Are you sure?' } %>
    </td>
  </tr>
<% end %>
  </tbody>
</table>

<%= paginate @songs %>
